"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/ViewApp.tsx":
/*!*************************!*\
  !*** ./src/ViewApp.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _xyflow_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @xyflow/react */ \"(app-pages-browser)/./node_modules/@xyflow/react/dist/esm/index.mjs\");\n/* harmony import */ var _xyflow_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @xyflow/react */ \"(app-pages-browser)/./node_modules/@xyflow/system/dist/esm/index.mjs\");\n/* harmony import */ var _xyflow_react_dist_style_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @xyflow/react/dist/style.css */ \"(app-pages-browser)/./node_modules/@xyflow/react/dist/style.css\");\n/* harmony import */ var _components_view_ViewCustomEdge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/view/ViewCustomEdge */ \"(app-pages-browser)/./src/components/view/ViewCustomEdge.tsx\");\n/* harmony import */ var _components_view_ViewEdgeCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/view/ViewEdgeCard */ \"(app-pages-browser)/./src/components/view/ViewEdgeCard.tsx\");\n/* harmony import */ var _components_view_ViewImageNode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/view/ViewImageNode */ \"(app-pages-browser)/./src/components/view/ViewImageNode.tsx\");\n/* harmony import */ var _components_view_ViewInfoModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/view/ViewInfoModal */ \"(app-pages-browser)/./src/components/view/ViewInfoModal.tsx\");\n/* harmony import */ var _components_view_ViewNodeCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/view/ViewNodeCard */ \"(app-pages-browser)/./src/components/view/ViewNodeCard.tsx\");\n/* harmony import */ var _components_view_ViewSettingCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/view/ViewSettingCard */ \"(app-pages-browser)/./src/components/view/ViewSettingCard.tsx\");\n/* harmony import */ var _components_view_ViewSettingIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/view/ViewSettingIcon */ \"(app-pages-browser)/./src/components/view/ViewSettingIcon.tsx\");\n/* harmony import */ var _store_chartStore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/store/chartStore */ \"(app-pages-browser)/./src/store/chartStore.tsx\");\n/* harmony import */ var _store_flowStore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/store/flowStore */ \"(app-pages-browser)/./src/store/flowStore.tsx\");\n/* harmony import */ var _store_viewStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/store/viewStore */ \"(app-pages-browser)/./src/store/viewStore.tsx\");\n/* harmony import */ var react_device_detect__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-device-detect */ \"(app-pages-browser)/./node_modules/react-device-detect/dist/lib.js\");\n/* harmony import */ var _data_site_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/data/site.json */ \"(app-pages-browser)/./src/data/site.json\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst nodeTypes = {\n    image: _components_view_ViewImageNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n};\nconst edgeTypes = {\n    fixed: _components_view_ViewCustomEdge__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n};\nconst ViewApp = ()=>{\n    _s();\n    const { setData, data } = (0,_store_chartStore__WEBPACK_IMPORTED_MODULE_10__.useChartStore)();\n    const [nodes, setNodes] = (0,_xyflow_react__WEBPACK_IMPORTED_MODULE_15__.useNodesState)([]);\n    const [edges, setEdges] = (0,_xyflow_react__WEBPACK_IMPORTED_MODULE_15__.useEdgesState)([]);\n    const { setSelectedEdge, setSelectedNode } = (0,_store_flowStore__WEBPACK_IMPORTED_MODULE_11__.useFlowStore)();\n    const { currentCard, setCurrentCard, setEdgeVisibility, setTeamVisibility, setCharacterVisibility, modalOpen, setModalOpen, setSiteData, chapter, day, siteData, setHoveredEdgeId } = (0,_store_viewStore__WEBPACK_IMPORTED_MODULE_12__.useViewStore)();\n    const { fitView, setCenter, getNode } = (0,_xyflow_react__WEBPACK_IMPORTED_MODULE_15__.useReactFlow)();\n    const [minZoom, setMinZoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.5);\n    const [settingCardWidth, setSettingCardWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const panFromSetting = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ViewApp.useEffect\": ()=>{\n            // On mobile it's harader to zoom out, so we set a lower min zoom\n            if (react_device_detect__WEBPACK_IMPORTED_MODULE_13__.isMobile) {\n                setMinZoom(0.3);\n            }\n            // Set site data, temporary until we have a proper way to load data\n            // @ts-expect-error json data might be wrong\n            setSiteData(_data_site_json__WEBPACK_IMPORTED_MODULE_14__);\n        }\n    }[\"ViewApp.useEffect\"], [\n        setSiteData\n    ]);\n    // Load the flow from current chart data\n    const loadFlow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ViewApp.useCallback[loadFlow]\": ()=>{\n            const flow = data;\n            if (flow) {\n                // Setting the nodes, edges and data\n                setNodes(flow.nodes || []);\n                setEdges(flow.edges || []);\n                // Setting the visibility of edges, teams and characters\n                const edgeVisibilityLoaded = {};\n                const teamVisibilityLoaded = {};\n                const characterVisibilityLoaded = {};\n                // To avoid overwriting current visibility for \"new\"\n                edgeVisibilityLoaded[\"new\"] = edgeVisibilityLoaded[\"new\"] || true;\n                Object.keys(flow.relationships).forEach({\n                    \"ViewApp.useCallback[loadFlow]\": (key)=>{\n                        edgeVisibilityLoaded[key] = true;\n                    }\n                }[\"ViewApp.useCallback[loadFlow]\"]);\n                Object.keys(flow.teams).forEach({\n                    \"ViewApp.useCallback[loadFlow]\": (key)=>{\n                        teamVisibilityLoaded[key] = true;\n                    }\n                }[\"ViewApp.useCallback[loadFlow]\"]);\n                for (const node of flow.nodes){\n                    if (node.data.team) {\n                        teamVisibilityLoaded[node.data.team] = true;\n                    }\n                    if (node.data.title) {\n                        characterVisibilityLoaded[node.data.title] = true;\n                    }\n                }\n                setEdgeVisibility(edgeVisibilityLoaded);\n                setTeamVisibility(teamVisibilityLoaded);\n                setCharacterVisibility(characterVisibilityLoaded);\n            }\n        }\n    }[\"ViewApp.useCallback[loadFlow]\"], [\n        setNodes,\n        setEdges,\n        setEdgeVisibility,\n        setTeamVisibility,\n        setCharacterVisibility,\n        data\n    ]);\n    // Update data when chapter or day changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ViewApp.useEffect\": ()=>{\n            if (chapter !== undefined && day !== undefined && siteData.chapter) {\n                setData(siteData.chapter.charts[day]);\n            }\n        }\n    }[\"ViewApp.useEffect\"], [\n        chapter,\n        day,\n        setData,\n        siteData\n    ]);\n    // Update the URL when the chapter or day changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ViewApp.useEffect\": ()=>{\n            if (chapter !== undefined && day !== undefined) {\n                // This works but it also modifies history.\n                // document.location.hash = `${chapter}/${day}`\n                window.history.replaceState({}, \"\", \"#\".concat(chapter, \"/\").concat(day));\n            }\n        }\n    }[\"ViewApp.useEffect\"], [\n        chapter,\n        day\n    ]);\n    // Load the flow when data changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ViewApp.useEffect\": ()=>{\n            loadFlow();\n        }\n    }[\"ViewApp.useEffect\"], [\n        loadFlow,\n        data\n    ]);\n    // This seems very reduntant and hacky, but idk why, fitView (in the useEffect down below) needs to be called twice to work\n    // This is a temporary fix, if we don't do this it'd flip the fitView (when setting opens it zooms in even though it should zoom out)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ViewApp.useEffect\": ()=>{\n            if (currentCard === \"setting\") {\n                setSettingCardWidth(300);\n                panFromSetting.current = true;\n            } else {\n                if (currentCard !== null) {\n                    panFromSetting.current = false;\n                }\n                setSettingCardWidth(0);\n            }\n        }\n    }[\"ViewApp.useEffect\"], [\n        currentCard,\n        setSettingCardWidth,\n        panFromSetting\n    ]);\n    // Update react flow renderer width when setting card is open, so the flow is not covered by the card\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ViewApp.useEffect\": ()=>{\n            if (currentCard === \"setting\") {\n                const reactFlowRenderer = document.querySelector(\".react-flow__renderer\");\n                if (reactFlowRenderer && !react_device_detect__WEBPACK_IMPORTED_MODULE_13__.isMobile) {\n                    reactFlowRenderer.style.width = \"calc(100% - \".concat(300, \"px)\");\n                }\n                fitView({\n                    padding: 0.5,\n                    duration: 1000\n                });\n            } else {\n                const reactFlowRenderer = document.querySelector(\".react-flow__renderer\");\n                if (reactFlowRenderer && !react_device_detect__WEBPACK_IMPORTED_MODULE_13__.isMobile) {\n                    reactFlowRenderer.style.width = \"100%\";\n                }\n                // Fit view when no card is open (only on mobile or when closing from setting)\n                if (currentCard === null && (react_device_detect__WEBPACK_IMPORTED_MODULE_13__.isMobile || panFromSetting.current)) {\n                    fitView({\n                        padding: 0.5,\n                        duration: 1000\n                    });\n                // panFromSetting.current = false;\n                }\n            }\n        }\n    }[\"ViewApp.useEffect\"], [\n        settingCardWidth,\n        fitView,\n        nodes,\n        edges,\n        currentCard,\n        panFromSetting\n    ]);\n    // Get center of edge, based of the center of the two nodes (needs to be improved)\n    const getCenter = (nodeAID, nodeBID)=>{\n        const nodeA = getNode(nodeAID);\n        const nodeB = getNode(nodeBID);\n        const nodeAPosition = nodeA.position;\n        const nodeBPosition = nodeB.position;\n        const offsetX = 0;\n        const offsetY = 0;\n        // if (!isMobile) {\n        //     offsetX = Math.abs(nodeA!.position.x - nodeB!.position.x) / 2;\n        //     offsetY = Math.abs(nodeA!.position.y - nodeB!.position.y) / 4;\n        // }\n        return {\n            x: (nodeAPosition.x + nodeBPosition.x) / 2 + offsetX,\n            y: (nodeAPosition.y + nodeBPosition.y) / 2 + offsetY\n        };\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-screen h-screen overflow-hidden \",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_xyflow_react__WEBPACK_IMPORTED_MODULE_15__.ReactFlow, {\n                        connectionMode: _xyflow_react__WEBPACK_IMPORTED_MODULE_16__.ConnectionMode.Loose,\n                        nodes: nodes,\n                        edges: edges,\n                        nodeTypes: nodeTypes,\n                        edgeTypes: edgeTypes,\n                        fitView: true,\n                        fitViewOptions: {\n                            padding: 0.5,\n                            duration: 1000\n                        },\n                        onNodeClick: (_, node)=>{\n                            setSelectedNode(node);\n                            fitView({\n                                nodes: [\n                                    node\n                                ],\n                                duration: 1000,\n                                maxZoom: 1.5\n                            });\n                            setCurrentCard(\"node\");\n                        },\n                        onEdgeClick: (_, edge)=>{\n                            setSelectedEdge(edge);\n                            const centerPoint = getCenter(edge.source, edge.target);\n                            setCenter(centerPoint.x, centerPoint.y, {\n                                duration: 1000,\n                                zoom: 1.5\n                            });\n                            setCurrentCard(\"edge\");\n                        },\n                        minZoom: minZoom,\n                        zoomOnDoubleClick: false,\n                        onPaneClick: ()=>{\n                            setCurrentCard(null);\n                        },\n                        onEdgeMouseEnter: (_, edge)=>{\n                            setHoveredEdgeId(edge.id);\n                        },\n                        onEdgeMouseLeave: ()=>{\n                            setHoveredEdgeId(\"\");\n                        }\n                    }, void 0, false, {\n                        fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                        lineNumber: 201,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_view_ViewSettingIcon__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                        className: \"absolute top-5 right-5 z-10\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                        lineNumber: 239,\n                        columnNumber: 17\n                    }, undefined),\n                    currentCard === \"setting\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_view_ViewSettingCard__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}, void 0, false, {\n                        fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 47\n                    }, undefined),\n                    currentCard === \"node\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_view_ViewNodeCard__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                        fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                        lineNumber: 241,\n                        columnNumber: 44\n                    }, undefined),\n                    currentCard === \"edge\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_view_ViewEdgeCard__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                        fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                        lineNumber: 242,\n                        columnNumber: 44\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                lineNumber: 200,\n                columnNumber: 13\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_view_ViewInfoModal__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                open: modalOpen,\n                onOpenChange: setModalOpen\n            }, void 0, false, {\n                fileName: \"D:\\\\Work\\\\coding-practice\\\\Project Practice\\\\enreco-chart\\\\src\\\\ViewApp.tsx\",\n                lineNumber: 244,\n                columnNumber: 13\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s(ViewApp, \"EBhHMzYX1PqXmb+iHEv0EXgeEU0=\", false, function() {\n    return [\n        _store_chartStore__WEBPACK_IMPORTED_MODULE_10__.useChartStore,\n        _xyflow_react__WEBPACK_IMPORTED_MODULE_15__.useNodesState,\n        _xyflow_react__WEBPACK_IMPORTED_MODULE_15__.useEdgesState,\n        _store_flowStore__WEBPACK_IMPORTED_MODULE_11__.useFlowStore,\n        _store_viewStore__WEBPACK_IMPORTED_MODULE_12__.useViewStore,\n        _xyflow_react__WEBPACK_IMPORTED_MODULE_15__.useReactFlow\n    ];\n});\n_c = ViewApp;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewApp);\nvar _c;\n$RefreshReg$(_c, \"ViewApp\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QlQsNkRBQWFBO1FBQ2JULHlEQUFhQTtRQUNiRCx5REFBYUE7UUFDTVcsMkRBQVlBO1FBY3JEQywyREFBWUE7UUFFd0JWLHdEQUFZQTs7O0tBcEJsRGlCO0FBcU5OLGlFQUFlQSxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJEOlxcV29ya1xcY29kaW5nLXByYWN0aWNlXFxQcm9qZWN0IFByYWN0aWNlXFxlbnJlY28tY2hhcnRcXHNyY1xcVmlld0FwcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmltcG9ydCB7IEN1c3RvbUVkZ2VUeXBlLCBJbWFnZU5vZGVUeXBlIH0gZnJvbSBcIkAvbGliL3R5cGVcIjtcclxuaW1wb3J0IHtcclxuICAgIENvbm5lY3Rpb25Nb2RlLFxyXG4gICAgUmVhY3RGbG93LFxyXG4gICAgdXNlRWRnZXNTdGF0ZSxcclxuICAgIHVzZU5vZGVzU3RhdGUsXHJcbiAgICB1c2VSZWFjdEZsb3csXHJcbn0gZnJvbSBcIkB4eWZsb3cvcmVhY3RcIjtcclxuaW1wb3J0IFwiQHh5Zmxvdy9yZWFjdC9kaXN0L3N0eWxlLmNzc1wiO1xyXG5cclxuaW1wb3J0IFZpZXdDdXN0b21FZGdlIGZyb20gXCJAL2NvbXBvbmVudHMvdmlldy9WaWV3Q3VzdG9tRWRnZVwiO1xyXG5pbXBvcnQgVmlld0VkZ2VDYXJkIGZyb20gXCJAL2NvbXBvbmVudHMvdmlldy9WaWV3RWRnZUNhcmRcIjtcclxuaW1wb3J0IEltYWdlTm9kZVZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy92aWV3L1ZpZXdJbWFnZU5vZGVcIjtcclxuaW1wb3J0IFZpZXdJbmZvTW9kYWwgZnJvbSBcIkAvY29tcG9uZW50cy92aWV3L1ZpZXdJbmZvTW9kYWxcIjtcclxuaW1wb3J0IFZpZXdOb2RlQ2FyZCBmcm9tIFwiQC9jb21wb25lbnRzL3ZpZXcvVmlld05vZGVDYXJkXCI7XHJcbmltcG9ydCBWaWV3U2V0dGluZ0NhcmQgZnJvbSBcIkAvY29tcG9uZW50cy92aWV3L1ZpZXdTZXR0aW5nQ2FyZFwiO1xyXG5pbXBvcnQgVmlld1NldHRpbmdJY29uIGZyb20gXCJAL2NvbXBvbmVudHMvdmlldy9WaWV3U2V0dGluZ0ljb25cIjtcclxuaW1wb3J0IHsgdXNlQ2hhcnRTdG9yZSB9IGZyb20gXCJAL3N0b3JlL2NoYXJ0U3RvcmVcIjtcclxuaW1wb3J0IHsgdXNlRmxvd1N0b3JlIH0gZnJvbSBcIkAvc3RvcmUvZmxvd1N0b3JlXCI7XHJcbmltcG9ydCB7IHVzZVZpZXdTdG9yZSB9IGZyb20gXCJAL3N0b3JlL3ZpZXdTdG9yZVwiO1xyXG5pbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gXCJyZWFjdC1kZXZpY2UtZGV0ZWN0XCI7XHJcblxyXG5pbXBvcnQgc2l0ZURhdGFJbiBmcm9tIFwiQC9kYXRhL3NpdGUuanNvblwiO1xyXG5cclxuY29uc3Qgbm9kZVR5cGVzID0ge1xyXG4gICAgaW1hZ2U6IEltYWdlTm9kZVZpZXcsXHJcbn07XHJcblxyXG5jb25zdCBlZGdlVHlwZXMgPSB7XHJcbiAgICBmaXhlZDogVmlld0N1c3RvbUVkZ2UsXHJcbn07XHJcblxyXG5jb25zdCBWaWV3QXBwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBzZXREYXRhLCBkYXRhIH0gPSB1c2VDaGFydFN0b3JlKCk7XHJcbiAgICBjb25zdCBbbm9kZXMsIHNldE5vZGVzXSA9IHVzZU5vZGVzU3RhdGU8SW1hZ2VOb2RlVHlwZT4oW10pO1xyXG4gICAgY29uc3QgW2VkZ2VzLCBzZXRFZGdlc10gPSB1c2VFZGdlc1N0YXRlPEN1c3RvbUVkZ2VUeXBlPihbXSk7XHJcbiAgICBjb25zdCB7IHNldFNlbGVjdGVkRWRnZSwgc2V0U2VsZWN0ZWROb2RlIH0gPSB1c2VGbG93U3RvcmUoKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgICBjdXJyZW50Q2FyZCxcclxuICAgICAgICBzZXRDdXJyZW50Q2FyZCxcclxuICAgICAgICBzZXRFZGdlVmlzaWJpbGl0eSxcclxuICAgICAgICBzZXRUZWFtVmlzaWJpbGl0eSxcclxuICAgICAgICBzZXRDaGFyYWN0ZXJWaXNpYmlsaXR5LFxyXG4gICAgICAgIG1vZGFsT3BlbixcclxuICAgICAgICBzZXRNb2RhbE9wZW4sXHJcbiAgICAgICAgc2V0U2l0ZURhdGEsXHJcbiAgICAgICAgY2hhcHRlcixcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgc2l0ZURhdGEsXHJcbiAgICAgICAgc2V0SG92ZXJlZEVkZ2VJZCxcclxuICAgIH0gPSB1c2VWaWV3U3RvcmUoKTtcclxuXHJcbiAgICBjb25zdCB7IGZpdFZpZXcsIHNldENlbnRlciwgZ2V0Tm9kZSB9ID0gdXNlUmVhY3RGbG93KCk7XHJcbiAgICBjb25zdCBbbWluWm9vbSwgc2V0TWluWm9vbV0gPSB1c2VTdGF0ZSgwLjUpO1xyXG4gICAgY29uc3QgW3NldHRpbmdDYXJkV2lkdGgsIHNldFNldHRpbmdDYXJkV2lkdGhdID0gdXNlU3RhdGUoMCk7XHJcbiAgICBjb25zdCBwYW5Gcm9tU2V0dGluZyA9IHVzZVJlZihmYWxzZSk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAvLyBPbiBtb2JpbGUgaXQncyBoYXJhZGVyIHRvIHpvb20gb3V0LCBzbyB3ZSBzZXQgYSBsb3dlciBtaW4gem9vbVxyXG4gICAgICAgIGlmIChpc01vYmlsZSkge1xyXG4gICAgICAgICAgICBzZXRNaW5ab29tKDAuMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgc2l0ZSBkYXRhLCB0ZW1wb3JhcnkgdW50aWwgd2UgaGF2ZSBhIHByb3BlciB3YXkgdG8gbG9hZCBkYXRhXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBqc29uIGRhdGEgbWlnaHQgYmUgd3JvbmdcclxuICAgICAgICBzZXRTaXRlRGF0YShzaXRlRGF0YUluKTtcclxuICAgIH0sIFtzZXRTaXRlRGF0YV0pO1xyXG5cclxuICAgIC8vIExvYWQgdGhlIGZsb3cgZnJvbSBjdXJyZW50IGNoYXJ0IGRhdGFcclxuICAgIGNvbnN0IGxvYWRGbG93ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZsb3cgPSBkYXRhO1xyXG5cclxuICAgICAgICBpZiAoZmxvdykge1xyXG4gICAgICAgICAgICAvLyBTZXR0aW5nIHRoZSBub2RlcywgZWRnZXMgYW5kIGRhdGFcclxuICAgICAgICAgICAgc2V0Tm9kZXMoKGZsb3cubm9kZXMgYXMgSW1hZ2VOb2RlVHlwZVtdKSB8fCBbXSk7XHJcbiAgICAgICAgICAgIHNldEVkZ2VzKChmbG93LmVkZ2VzIGFzIEN1c3RvbUVkZ2VUeXBlW10pIHx8IFtdKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgdGhlIHZpc2liaWxpdHkgb2YgZWRnZXMsIHRlYW1zIGFuZCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VWaXNpYmlsaXR5TG9hZGVkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gICAgICAgICAgICBjb25zdCB0ZWFtVmlzaWJpbGl0eUxvYWRlZDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyVmlzaWJpbGl0eUxvYWRlZDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRvIGF2b2lkIG92ZXJ3cml0aW5nIGN1cnJlbnQgdmlzaWJpbGl0eSBmb3IgXCJuZXdcIlxyXG4gICAgICAgICAgICBlZGdlVmlzaWJpbGl0eUxvYWRlZFtcIm5ld1wiXSA9IGVkZ2VWaXNpYmlsaXR5TG9hZGVkW1wibmV3XCJdIHx8IHRydWU7XHJcblxyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmbG93LnJlbGF0aW9uc2hpcHMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWRnZVZpc2liaWxpdHlMb2FkZWRba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmxvdy50ZWFtcykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZWFtVmlzaWJpbGl0eUxvYWRlZFtrZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZmxvdy5ub2Rlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YS50ZWFtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVhbVZpc2liaWxpdHlMb2FkZWRbbm9kZS5kYXRhLnRlYW1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEudGl0bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJWaXNpYmlsaXR5TG9hZGVkW25vZGUuZGF0YS50aXRsZV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRFZGdlVmlzaWJpbGl0eShlZGdlVmlzaWJpbGl0eUxvYWRlZCk7XHJcbiAgICAgICAgICAgIHNldFRlYW1WaXNpYmlsaXR5KHRlYW1WaXNpYmlsaXR5TG9hZGVkKTtcclxuICAgICAgICAgICAgc2V0Q2hhcmFjdGVyVmlzaWJpbGl0eShjaGFyYWN0ZXJWaXNpYmlsaXR5TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXHJcbiAgICAgICAgc2V0Tm9kZXMsXHJcbiAgICAgICAgc2V0RWRnZXMsXHJcbiAgICAgICAgc2V0RWRnZVZpc2liaWxpdHksXHJcbiAgICAgICAgc2V0VGVhbVZpc2liaWxpdHksXHJcbiAgICAgICAgc2V0Q2hhcmFjdGVyVmlzaWJpbGl0eSxcclxuICAgICAgICBkYXRhLFxyXG4gICAgXSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIGRhdGEgd2hlbiBjaGFwdGVyIG9yIGRheSBjaGFuZ2VzXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjaGFwdGVyICE9PSB1bmRlZmluZWQgJiYgZGF5ICE9PSB1bmRlZmluZWQgJiYgc2l0ZURhdGEuY2hhcHRlcikge1xyXG4gICAgICAgICAgICBzZXREYXRhKHNpdGVEYXRhLmNoYXB0ZXIuY2hhcnRzW2RheV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtjaGFwdGVyLCBkYXksIHNldERhdGEsIHNpdGVEYXRhXSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSBVUkwgd2hlbiB0aGUgY2hhcHRlciBvciBkYXkgY2hhbmdlc1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY2hhcHRlciAhPT0gdW5kZWZpbmVkICYmIGRheSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgd29ya3MgYnV0IGl0IGFsc28gbW9kaWZpZXMgaGlzdG9yeS5cclxuICAgICAgICAgICAgLy8gZG9jdW1lbnQubG9jYXRpb24uaGFzaCA9IGAke2NoYXB0ZXJ9LyR7ZGF5fWBcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgYCMke2NoYXB0ZXJ9LyR7ZGF5fWApO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtjaGFwdGVyLCBkYXldKTtcclxuXHJcbiAgICAvLyBMb2FkIHRoZSBmbG93IHdoZW4gZGF0YSBjaGFuZ2VzXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxvYWRGbG93KCk7XHJcbiAgICB9LCBbbG9hZEZsb3csIGRhdGFdKTtcclxuXHJcbiAgICAvLyBUaGlzIHNlZW1zIHZlcnkgcmVkdW50YW50IGFuZCBoYWNreSwgYnV0IGlkayB3aHksIGZpdFZpZXcgKGluIHRoZSB1c2VFZmZlY3QgZG93biBiZWxvdykgbmVlZHMgdG8gYmUgY2FsbGVkIHR3aWNlIHRvIHdvcmtcclxuICAgIC8vIFRoaXMgaXMgYSB0ZW1wb3JhcnkgZml4LCBpZiB3ZSBkb24ndCBkbyB0aGlzIGl0J2QgZmxpcCB0aGUgZml0VmlldyAod2hlbiBzZXR0aW5nIG9wZW5zIGl0IHpvb21zIGluIGV2ZW4gdGhvdWdoIGl0IHNob3VsZCB6b29tIG91dClcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRDYXJkID09PSBcInNldHRpbmdcIikge1xyXG4gICAgICAgICAgICBzZXRTZXR0aW5nQ2FyZFdpZHRoKDMwMCk7XHJcbiAgICAgICAgICAgIHBhbkZyb21TZXR0aW5nLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2FyZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcGFuRnJvbVNldHRpbmcuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFNldHRpbmdDYXJkV2lkdGgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2N1cnJlbnRDYXJkLCBzZXRTZXR0aW5nQ2FyZFdpZHRoLCBwYW5Gcm9tU2V0dGluZ10pO1xyXG5cclxuICAgIC8vIFVwZGF0ZSByZWFjdCBmbG93IHJlbmRlcmVyIHdpZHRoIHdoZW4gc2V0dGluZyBjYXJkIGlzIG9wZW4sIHNvIHRoZSBmbG93IGlzIG5vdCBjb3ZlcmVkIGJ5IHRoZSBjYXJkXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjdXJyZW50Q2FyZCA9PT0gXCJzZXR0aW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVhY3RGbG93UmVuZGVyZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihcclxuICAgICAgICAgICAgICAgIFwiLnJlYWN0LWZsb3dfX3JlbmRlcmVyXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKHJlYWN0Rmxvd1JlbmRlcmVyICYmICFpc01vYmlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmVhY3RGbG93UmVuZGVyZXIuc3R5bGUud2lkdGggPSBgY2FsYygxMDAlIC0gJHszMDB9cHgpYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaXRWaWV3KHsgcGFkZGluZzogMC41LCBkdXJhdGlvbjogMTAwMCB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCByZWFjdEZsb3dSZW5kZXJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KFxyXG4gICAgICAgICAgICAgICAgXCIucmVhY3QtZmxvd19fcmVuZGVyZXJcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAocmVhY3RGbG93UmVuZGVyZXIgJiYgIWlzTW9iaWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZWFjdEZsb3dSZW5kZXJlci5zdHlsZS53aWR0aCA9IGAxMDAlYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGaXQgdmlldyB3aGVuIG5vIGNhcmQgaXMgb3BlbiAob25seSBvbiBtb2JpbGUgb3Igd2hlbiBjbG9zaW5nIGZyb20gc2V0dGluZylcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDYXJkID09PSBudWxsICYmIChpc01vYmlsZSB8fCBwYW5Gcm9tU2V0dGluZy5jdXJyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgZml0Vmlldyh7IHBhZGRpbmc6IDAuNSwgZHVyYXRpb246IDEwMDAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBwYW5Gcm9tU2V0dGluZy5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LCBbc2V0dGluZ0NhcmRXaWR0aCwgZml0Vmlldywgbm9kZXMsIGVkZ2VzLCBjdXJyZW50Q2FyZCwgcGFuRnJvbVNldHRpbmddKTtcclxuXHJcbiAgICAvLyBHZXQgY2VudGVyIG9mIGVkZ2UsIGJhc2VkIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHR3byBub2RlcyAobmVlZHMgdG8gYmUgaW1wcm92ZWQpXHJcbiAgICBjb25zdCBnZXRDZW50ZXIgPSAobm9kZUFJRDogc3RyaW5nLCBub2RlQklEOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCBub2RlQSA9IGdldE5vZGUobm9kZUFJRCk7XHJcbiAgICAgICAgY29uc3Qgbm9kZUIgPSBnZXROb2RlKG5vZGVCSUQpO1xyXG4gICAgICAgIGNvbnN0IG5vZGVBUG9zaXRpb24gPSBub2RlQSEucG9zaXRpb247XHJcbiAgICAgICAgY29uc3Qgbm9kZUJQb3NpdGlvbiA9IG5vZGVCIS5wb3NpdGlvbjtcclxuICAgICAgICBjb25zdCBvZmZzZXRYID0gMDtcclxuICAgICAgICBjb25zdCBvZmZzZXRZID0gMDtcclxuICAgICAgICAvLyBpZiAoIWlzTW9iaWxlKSB7XHJcbiAgICAgICAgLy8gICAgIG9mZnNldFggPSBNYXRoLmFicyhub2RlQSEucG9zaXRpb24ueCAtIG5vZGVCIS5wb3NpdGlvbi54KSAvIDI7XHJcbiAgICAgICAgLy8gICAgIG9mZnNldFkgPSBNYXRoLmFicyhub2RlQSEucG9zaXRpb24ueSAtIG5vZGVCIS5wb3NpdGlvbi55KSAvIDQ7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IChub2RlQVBvc2l0aW9uLnggKyBub2RlQlBvc2l0aW9uLngpIC8gMiArIG9mZnNldFgsXHJcbiAgICAgICAgICAgIHk6IChub2RlQVBvc2l0aW9uLnkgKyBub2RlQlBvc2l0aW9uLnkpIC8gMiArIG9mZnNldFksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctc2NyZWVuIGgtc2NyZWVuIG92ZXJmbG93LWhpZGRlbiBcIj5cclxuICAgICAgICAgICAgICAgIDxSZWFjdEZsb3dcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uTW9kZT17Q29ubmVjdGlvbk1vZGUuTG9vc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZXM9e25vZGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VzPXtlZGdlc31cclxuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZXM9e25vZGVUeXBlc31cclxuICAgICAgICAgICAgICAgICAgICBlZGdlVHlwZXM9e2VkZ2VUeXBlc31cclxuICAgICAgICAgICAgICAgICAgICBmaXRWaWV3XHJcbiAgICAgICAgICAgICAgICAgICAgZml0Vmlld09wdGlvbnM9e3sgcGFkZGluZzogMC41LCBkdXJhdGlvbjogMTAwMCB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uTm9kZUNsaWNrPXsoXywgbm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZE5vZGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdFZpZXcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXM6IFtub2RlXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Wm9vbTogMS41LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudENhcmQoXCJub2RlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25FZGdlQ2xpY2s9eyhfLCBlZGdlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRWRnZShlZGdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyUG9pbnQgPSBnZXRDZW50ZXIoZWRnZS5zb3VyY2UsIGVkZ2UudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2VudGVyKGNlbnRlclBvaW50LngsIGNlbnRlclBvaW50LnksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMS41LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudENhcmQoXCJlZGdlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgbWluWm9vbT17bWluWm9vbX1cclxuICAgICAgICAgICAgICAgICAgICB6b29tT25Eb3VibGVDbGljaz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25QYW5lQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudENhcmQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBvbkVkZ2VNb3VzZUVudGVyPXsoXywgZWRnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRIb3ZlcmVkRWRnZUlkKGVkZ2UuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25FZGdlTW91c2VMZWF2ZT17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRIb3ZlcmVkRWRnZUlkKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICA+PC9SZWFjdEZsb3c+XHJcbiAgICAgICAgICAgICAgICA8Vmlld1NldHRpbmdJY29uIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC01IHJpZ2h0LTUgei0xMFwiIC8+XHJcbiAgICAgICAgICAgICAgICB7Y3VycmVudENhcmQgPT09IFwic2V0dGluZ1wiICYmIDxWaWV3U2V0dGluZ0NhcmQgLz59XHJcbiAgICAgICAgICAgICAgICB7Y3VycmVudENhcmQgPT09IFwibm9kZVwiICYmIDxWaWV3Tm9kZUNhcmQgLz59XHJcbiAgICAgICAgICAgICAgICB7Y3VycmVudENhcmQgPT09IFwiZWRnZVwiICYmIDxWaWV3RWRnZUNhcmQgLz59XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8Vmlld0luZm9Nb2RhbCBvcGVuPXttb2RhbE9wZW59IG9uT3BlbkNoYW5nZT17c2V0TW9kYWxPcGVufSAvPlxyXG4gICAgICAgIDwvPlxyXG4gICAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZpZXdBcHA7XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQ29ubmVjdGlvbk1vZGUiLCJSZWFjdEZsb3ciLCJ1c2VFZGdlc1N0YXRlIiwidXNlTm9kZXNTdGF0ZSIsInVzZVJlYWN0RmxvdyIsIlZpZXdDdXN0b21FZGdlIiwiVmlld0VkZ2VDYXJkIiwiSW1hZ2VOb2RlVmlldyIsIlZpZXdJbmZvTW9kYWwiLCJWaWV3Tm9kZUNhcmQiLCJWaWV3U2V0dGluZ0NhcmQiLCJWaWV3U2V0dGluZ0ljb24iLCJ1c2VDaGFydFN0b3JlIiwidXNlRmxvd1N0b3JlIiwidXNlVmlld1N0b3JlIiwiaXNNb2JpbGUiLCJzaXRlRGF0YUluIiwibm9kZVR5cGVzIiwiaW1hZ2UiLCJlZGdlVHlwZXMiLCJmaXhlZCIsIlZpZXdBcHAiLCJzZXREYXRhIiwiZGF0YSIsIm5vZGVzIiwic2V0Tm9kZXMiLCJlZGdlcyIsInNldEVkZ2VzIiwic2V0U2VsZWN0ZWRFZGdlIiwic2V0U2VsZWN0ZWROb2RlIiwiY3VycmVudENhcmQiLCJzZXRDdXJyZW50Q2FyZCIsInNldEVkZ2VWaXNpYmlsaXR5Iiwic2V0VGVhbVZpc2liaWxpdHkiLCJzZXRDaGFyYWN0ZXJWaXNpYmlsaXR5IiwibW9kYWxPcGVuIiwic2V0TW9kYWxPcGVuIiwic2V0U2l0ZURhdGEiLCJjaGFwdGVyIiwiZGF5Iiwic2l0ZURhdGEiLCJzZXRIb3ZlcmVkRWRnZUlkIiwiZml0VmlldyIsInNldENlbnRlciIsImdldE5vZGUiLCJtaW5ab29tIiwic2V0TWluWm9vbSIsInNldHRpbmdDYXJkV2lkdGgiLCJzZXRTZXR0aW5nQ2FyZFdpZHRoIiwicGFuRnJvbVNldHRpbmciLCJsb2FkRmxvdyIsImZsb3ciLCJlZGdlVmlzaWJpbGl0eUxvYWRlZCIsInRlYW1WaXNpYmlsaXR5TG9hZGVkIiwiY2hhcmFjdGVyVmlzaWJpbGl0eUxvYWRlZCIsIk9iamVjdCIsImtleXMiLCJyZWxhdGlvbnNoaXBzIiwiZm9yRWFjaCIsImtleSIsInRlYW1zIiwibm9kZSIsInRlYW0iLCJ0aXRsZSIsInVuZGVmaW5lZCIsImNoYXJ0cyIsIndpbmRvdyIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJjdXJyZW50IiwicmVhY3RGbG93UmVuZGVyZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsIndpZHRoIiwicGFkZGluZyIsImR1cmF0aW9uIiwiZ2V0Q2VudGVyIiwibm9kZUFJRCIsIm5vZGVCSUQiLCJub2RlQSIsIm5vZGVCIiwibm9kZUFQb3NpdGlvbiIsInBvc2l0aW9uIiwibm9kZUJQb3NpdGlvbiIsIm9mZnNldFgiLCJvZmZzZXRZIiwieCIsInkiLCJkaXYiLCJjbGFzc05hbWUiLCJjb25uZWN0aW9uTW9kZSIsIkxvb3NlIiwiZml0Vmlld09wdGlvbnMiLCJvbk5vZGVDbGljayIsIl8iLCJtYXhab29tIiwib25FZGdlQ2xpY2siLCJlZGdlIiwiY2VudGVyUG9pbnQiLCJzb3VyY2UiLCJ0YXJnZXQiLCJ6b29tIiwiem9vbU9uRG91YmxlQ2xpY2siLCJvblBhbmVDbGljayIsIm9uRWRnZU1vdXNlRW50ZXIiLCJpZCIsIm9uRWRnZU1vdXNlTGVhdmUiLCJvcGVuIiwib25PcGVuQ2hhbmdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/ViewApp.tsx\n"));

/***/ })

});